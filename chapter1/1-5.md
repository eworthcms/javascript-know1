# 小结

作用域是一套规则，用于确定在何处以及如何查找变量（标识符）。如果查找的目的是对变量进行赋值，则使用 LHS 查询；如果目的是获取变量的值，则会使用 RHS 查询。

赋值操作符会导致 LHS 查询。`=` 操作符或调用函数时传入参数的操作都会导致关联作用域的赋值操作。



JavaScript 引擎会在代码执行前对其进行编译，如 `var a = 2` 分两个独立的步骤：

1. 首先，`var a` 在其作用域中声明新变量。是最开始的阶段，也就是代码执行前进行
2. 接下来，`a = 2` 会查询（LHS查询）变量 a 并对其进行赋值。



LHS 和 RHS 查询都会在当前 **执行作用域** 中开始，如果没有找到所需的标识符，则会向上级作用域继续查找目标标识符，一层层查找，最后抵达全局作用域（顶层），无论找到或没找到都将停止。

不成功的 RHS 引用会导致抛出 `ReferenceError` 异常。

不成功的 LHS 引用会导致自动隐式地创建一个全局变量（非严格模式下），该变量使用 LHS 引用的目标作为标识符名称，或者抛出 `ReferenceError` 异常（严格模式下）